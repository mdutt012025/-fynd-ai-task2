# Fynd AI Task 2 - Two-Dashboard AI Feedback System

A production-ready web application with User and Admin dashboards for collecting and analyzing customer reviews using AI.

## ðŸŽ¯ Features

### User Dashboard
- â­ Submit reviews with 1-5 star ratings
- ðŸ’¬ Get instant AI-generated responses
- ðŸŽ¨ Beautiful, responsive UI
- âœ… Real-time validation and feedback
- ðŸ“± Mobile-friendly design

### Admin Dashboard
- ðŸ“Š Real-time statistics and metrics
- ðŸ“ Live-updating list of all submissions
- ðŸ¤– AI-generated summaries for each review
- ðŸ’¡ Recommended business actions
- ðŸ·ï¸ Filter by star rating
- â° Auto-refreshing every 5 seconds

## ðŸ—ï¸ Architecture

```
Task 2 System
â”œâ”€â”€ Backend (FastAPI + Supabase)
â”‚   â”œâ”€â”€ Review submission handling
â”‚   â”œâ”€â”€ LLM integration (Gemini API)
â”‚   â”œâ”€â”€ Database persistence
â”‚   â””â”€â”€ API endpoints
â”œâ”€â”€ User Frontend (React + Vite)
â”‚   â”œâ”€â”€ Review submission form
â”‚   â”œâ”€â”€ AI response display
â”‚   â””â”€â”€ Success/error states
â””â”€â”€ Admin Frontend (React + Vite)
    â”œâ”€â”€ Dashboard with stats
    â”œâ”€â”€ Filterable review list
    â””â”€â”€ Real-time data refresh
```

## ðŸš€ Quick Start

### Prerequisites
- Python 3.9+
- Node.js 16+
- Git

### 1. Backend Setup

```bash
cd backend
python -m venv venv
source venv/bin/activate  # or venv\Scripts\activate on Windows
pip install -r requirements.txt
cp .env.example .env
# Edit .env with your Supabase and Gemini API keys
python -m uvicorn src.main:app --reload
```

Backend runs at: `http://localhost:8000`

### 2. User Dashboard Setup

```bash
cd frontend-user
npm install
cp .env.example .env
npm run dev
```

User dashboard runs at: `http://localhost:3000`

### 3. Admin Dashboard Setup

```bash
cd frontend-admin
npm install
cp .env.example .env
npm run dev
```

Admin dashboard runs at: `http://localhost:3001`

## ðŸ“¦ Tech Stack

**Backend:**
- FastAPI 0.104.1
- Supabase (PostgreSQL)
- Google Gemini API
- Python 3.11

**Frontend:**
- React 18.2
- Vite 5.0
- Axios 1.6
- CSS3 (no external UI frameworks)

**Deployment:**
- Backend: Render
- Frontends: Vercel
- Database: Supabase

## ðŸ“ Environment Variables

### Backend (.env)
```
SUPABASE_URL=your_supabase_url
SUPABASE_KEY=your_supabase_anon_key
GEMINI_API_KEY=your_gemini_api_key
```

### Frontends (.env)
```
VITE_API_URL=http://localhost:8000  # or your production backend URL
```

## ðŸ”Œ API Endpoints

| Method | Endpoint | Purpose |
|--------|----------|---------|
| GET | `/health` | Health check |
| POST | `/api/reviews` | Submit a new review |
| GET | `/api/reviews` | Get all reviews (paginated) |
| GET | `/api/admin/stats` | Get admin statistics |

### Request/Response Examples

**POST /api/reviews**
```json
Request:
{
  "rating": 5,
  "user_review": "Great service!"
}

Response:
{
  "id": "uuid-string",
  "rating": 5,
  "user_review": "Great service!",
  "ai_response": "Thank you for the positive feedback...",
  "ai_summary": "Customer very satisfied with service",
  "recommended_actions": "Continue current service quality",
  "created_at": "2025-01-06T10:30:00"
}
```

**GET /api/admin/stats**
```json
{
  "total_reviews": 42,
  "avg_rating": 4.5,
  "rating_distribution": {
    "5": 25,
    "4": 12,
    "3": 3,
    "2": 1,
    "1": 1
  },
  "recent_reviews": [...]
}
```

## ðŸŒ Deployment

### Backend on Render

1. Push to GitHub
2. Create Web Service on Render
3. Connect GitHub repo
4. Set build/start commands (see Setup Guide)
5. Add environment variables
6. Deploy

### Frontends on Vercel

1. Create Vercel account
2. Import GitHub repository
3. Set build command: `npm run build`
4. Set output directory: `dist`
5. Add environment variables
6. Deploy (auto-deploys on push to main)

## ðŸ§ª Testing

1. Submit a test review on User Dashboard
2. Check Admin Dashboard for:
   - âœ… Review appears in list
   - âœ… AI summary is generated
   - âœ… Recommended actions are shown
   - âœ… Stats are updated

## ðŸ“Š Database Schema

```sql
CREATE TABLE reviews (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  rating INT NOT NULL CHECK (rating >= 1 AND rating <= 5),
  user_review TEXT NOT NULL,
  ai_response TEXT,
  ai_summary TEXT,
  recommended_actions TEXT,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_created_at ON reviews(created_at DESC);
CREATE INDEX idx_rating ON reviews(rating);
```

## ðŸ”’ Security Features

- âœ… CORS enabled for both frontends
- âœ… Server-side LLM API calls (no client-side keys)
- âœ… Input validation on all endpoints
- âœ… Error handling and graceful fallbacks
- âœ… Environment variables for sensitive data

## ðŸ“ˆ Performance

- **Backend:** Async processing with asyncio
- **LLM Calls:** Parallelized (response + summary + actions)
- **Frontend:** Auto-refresh admin dashboard every 5 seconds
- **Database:** Indexed queries for fast lookups
- **Deployment:** Global CDN via Vercel

## ðŸ› ï¸ Troubleshooting

### Backend issues?
```bash
# Check Python version
python --version

# Reinstall dependencies
pip install --upgrade -r requirements.txt

# Test Supabase connection
python -c "from supabase import create_client; print('OK')"
```

### Frontend issues?
```bash
# Clear and reinstall
rm -rf node_modules
npm cache clean --force
npm install
npm run build
```

### CORS errors?
- Verify VITE_API_URL is correct
- Check backend CORS middleware is enabled

## ðŸ“„ Submission Links

| Component | Type | URL |
|-----------|------|-----|
| Code | GitHub | [Your GitHub Link] |
| Backend | Render | [Your Backend URL] |
| User Dashboard | Vercel | [Your User Dashboard URL] |
| Admin Dashboard | Vercel | [Your Admin Dashboard URL] |

## ðŸ“‹ Project Structure

```
fynd-ai-task2/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ main.py
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ .env.example
â”‚   â”œâ”€â”€ Procfile
â”‚   â””â”€â”€ vercel.json
â”œâ”€â”€ frontend-user/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.jsx
â”‚   â”‚   â”œâ”€â”€ App.css
â”‚   â”‚   â””â”€â”€ main.jsx
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ vite.config.js
â”‚   â””â”€â”€ .env.example
â”œâ”€â”€ frontend-admin/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.jsx
â”‚   â”‚   â”œâ”€â”€ App.css
â”‚   â”‚   â””â”€â”€ main.jsx
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ vite.config.js
â”‚   â””â”€â”€ .env.example
â””â”€â”€ README.md
```

## ðŸ¤ Contributing

1. Create a feature branch
2. Make changes
3. Test locally
4. Push and create PR

## ðŸ“ž Support

For issues or questions:
1. Check the Setup Guide
2. Review error logs
3. Verify environment variables
4. Check API health: `/health`

## ðŸ“„ License

This project is for Fynd AI Intern Assessment 2.0

---

**Last Updated:** January 2025
**Status:** Production Ready âœ…